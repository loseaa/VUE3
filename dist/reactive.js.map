{
  "version": 3,
  "sources": ["../packages/shared/src/utils.ts", "../packages/reactive/src/effect.ts", "../packages/reactive/src/activeEffect.ts", "../packages/reactive/src/basehandler.ts", "../packages/reactive/src/reactive.ts", "../packages/reactive/src/ref.ts", "../packages/reactive/src/computed.ts", "../packages/reactive/src/watchAPI.ts"],
  "sourcesContent": ["export function isObject(value: any): value is Record<any, any> {\r\n    return value !== null && typeof value === 'object'\r\n}\r\n\r\nexport function isFunction(value: any): value is Function {\r\n    return typeof value === 'function';\r\n}\r\n\r\nexport function isString(value: any): value is string {\r\n    return typeof value === 'string';\r\n}", "export function effect(fn: Function, options: any = {}) {\r\n\tlet _effect = new ReactiveEffect(\r\n\t\tfn,\r\n\t\toptions.scheduler ||\r\n\t\t\t(() => {\r\n\t\t\t\t_effect.run();\r\n\t\t\t})\r\n\t);\r\n\t_effect.run();\r\n\tlet runner = _effect.run.bind(_effect);\r\n\t(runner as any).effect = _effect;\r\n\treturn runner;\r\n}\r\nexport let activeEffect: ReactiveEffect | undefined;\r\n\r\nfunction preEffectClean(effect: ReactiveEffect) {\r\n\teffect.trackId++;\r\n\teffect.depsLength = 0;\r\n}\r\n\r\nfunction postCleanEffect(effect: ReactiveEffect) {\r\n\tconst len = effect.deps.length;\r\n\tif (effect.depsLength < len) {\r\n\t\tfor (let i = effect.depsLength; i < len; i++) {\r\n\t\t\tcleanEffectDeps(effect, effect.deps[i]);\r\n\t\t}\r\n\t\teffect.deps.length = effect.depsLength;\r\n\t}\r\n}\r\n\r\nexport class ReactiveEffect {\r\n\tactive = true;\r\n\ttrackId = 0;\r\n\tdeps = new Array();\r\n\t_isRunning = false;\r\n\tdepsLength = 0;\r\n\tconstructor(\r\n\t\tpublic fn: Function,\r\n\t\tpublic scheduler: any\r\n\t) {}\r\n\r\n\trun() {\r\n\t\t// \u5982\u679C\u4E0D\u662Factive\u72B6\u6001\uFF0C\u76F4\u63A5\u6267\u884C\u51FD\u6570 \u4E0D\u6267\u884C\u6536\u96C6\r\n\t\tif (!this.active) {\r\n\t\t\treturn this.fn();\r\n\t\t}\r\n\t\tlet lastEffect = activeEffect;\r\n\t\tactiveEffect = this;\r\n\t\tpreEffectClean(this);\r\n\t\tthis._isRunning = true;\r\n\t\tconst result = this.fn();\r\n\t\tthis._isRunning = false;\r\n\t\tpostCleanEffect(this);\r\n\t\tactiveEffect = lastEffect;\r\n\t\treturn result;\r\n\t}\r\n\tstop() {\r\n\t\tif (this.active) {\r\n\t\t\tthis.active = false;\r\n\t\t\t// \u6E05\u7406\u4F9D\u8D56\r\n\t\t\tpreEffectClean(this);\r\n\t\t\tpostCleanEffect(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction cleanEffectDeps(effect: ReactiveEffect, dep: Map<ReactiveEffect, number>) {\r\n\tdep.delete(effect);\r\n\tif (dep.size === 0) {\r\n\t\t(dep as any).cleanup();\r\n\t}\r\n}\r\n\r\nexport function trackEffect(activeEffect: ReactiveEffect, dep: Map<ReactiveEffect, number>) {\r\n\t//trackID \u7528\u4E8E\u6807\u8BB0\u8BE5effect\u662F\u5426\u5DF2\u7ECF\u88AB\u6536\u96C6\u8FC7\u4E86 \u4FDD\u8BC1\u4E00\u8F6E\u6267\u884C\u8FC7\u7A0B\u4E2D\u53EA\u4F1A\r\n\t// \u6536\u96C6\u4E00\u6B21\u76F8\u540C\u7684\u4F9D\u8D56\r\n\tif (dep.get(activeEffect) === activeEffect.trackId) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tactiveEffect.deps[activeEffect.depsLength++] = dep;\r\n\tif (activeEffect.deps[activeEffect.depsLength] === dep) {\r\n\t\t// \u672C\u6B21\u4F9D\u8D56\u4E0E\u4E0A\u6B21\u4F9D\u8D56\u76F8\u540C \u76F4\u63A5\u590D\u7528\r\n\t\tactiveEffect.depsLength++;\r\n\t} else {\r\n\t\t// \u4E0D\u76F8\u540C\u5219\u9700\u8981\u6E05\u7406\u4E0A\u6B21\u4F9D\u8D56\r\n\t\tlet oldDep = activeEffect.deps[activeEffect.depsLength];\r\n\t\tif (oldDep) {\r\n\t\t\tcleanEffectDeps(activeEffect, oldDep);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\tdep.set(activeEffect, activeEffect.trackId);\r\n}\r\n\r\nexport function triggerEffects(dep: Map<ReactiveEffect, number>) {\r\n\tdep.forEach((_, effect) => {\r\n\t\tif (effect._isRunning) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (effect.scheduler) {\r\n\t\t\teffect.scheduler();\r\n\t\t}\r\n\t});\r\n}\r\n", "\r\nimport { activeEffect, ReactiveEffect, trackEffect, triggerEffects } from \"./effect.js\";\r\n\r\nfunction creatDepMap(cleanup:()=>void,_name?:string){ \r\n    let res= new Map<ReactiveEffect,number>();\r\n    (res as any).cleanup = cleanup;\r\n    (res as any)._name = _name;\r\n    return res;\r\n}\r\n\r\nconst targetMap = new WeakMap<any, Map<string | symbol, Map<ReactiveEffect,number>>>();\r\nexport function track(target:any, key:string | symbol) {\r\n    if(activeEffect){\r\n        let depsMap = targetMap.get(target);\r\n        if(!depsMap) {\r\n            targetMap.set(target, (depsMap = new Map<string | symbol, Map<ReactiveEffect,number>>()));\r\n        }\r\n\r\n        let dep = depsMap.get(key);\r\n        if(!dep) {\r\n            depsMap.set(key, (dep = creatDepMap(()=>{depsMap.delete(key);},String(key))));\r\n        }\r\n        trackEffect(activeEffect,dep);\r\n    }\r\n}\r\n\r\nexport function trigger(target:any, key:string | symbol) {\r\n    const depsMap = targetMap.get(target);\r\n    if(!depsMap) return;\r\n    const dep = depsMap.get(key);\r\n    if(!dep) return;\r\n    triggerEffects(dep);\r\n}\r\n\r\n\r\n\r\n", "\r\nimport { isObject } from \"@VUE3/shared\";\r\nimport { track, trigger } from \"./activeEffect.js\";\r\nimport { reactive } from \"./reactive.js\";\r\n\r\nexport const mutableHandlers:ProxyHandler<any>={\r\n    get(target,key,receiver){\r\n        if(key===\"__v_isReactive\"){\r\n            return true;\r\n        }   \r\n        track(target,key);\r\n        \r\n        let res=Reflect.get(target,key,receiver);\r\n        if(isObject(res)){\r\n            return reactive(res);\r\n        }\r\n        return res;\r\n    },\r\n    set(target,key,value,receiver){\r\n        let oldValue=target[key];\r\n        const result = Reflect.set(target,key,value,receiver);\r\n        if(oldValue!==value){\r\n            trigger(target,key);\r\n        }\r\n        return result;\r\n    }\r\n}", "import { isObject } from '@VUE3/shared';\r\nimport { mutableHandlers } from './basehandler.js';\r\nconst reactiveMap = new WeakMap();\r\n\r\nexport function reactive(target: any) {\r\n\treturn creatReactiveObject(target);\r\n}\r\n\r\nfunction creatReactiveObject(target: any) {\r\n\tif (!isObject(target)) {\r\n\t\tconsole.warn(`reactive ${target} \u5FC5\u987B\u662F\u4E00\u4E2A\u5BF9\u8C61`);\r\n\t\treturn target;\r\n\t}\r\n\tif (reactiveMap.has(target)) {\r\n\t\treturn reactiveMap.get(target);\r\n\t}\r\n\tif ((target as any).__v_isReactive) {\r\n\t\treturn target;\r\n\t}\r\n\r\n\tconst proxy = new Proxy(target, mutableHandlers);\r\n\treactiveMap.set(target, proxy);\r\n\treturn proxy;\r\n}\r\n", "import { isObject } from '@VUE3/shared';\r\nimport { reactive } from './reactive.js';\r\nimport { activeEffect, trackEffect, triggerEffects, type ReactiveEffect } from './effect.js';\r\nimport type { ComputedRefImpl } from './computed.js';\r\n\r\nexport function ref(value: any) {\r\n\treturn createRef(value);\r\n}\r\n\r\nfunction createRef(value: any) {\r\n\treturn new RefImpl(value);\r\n}\r\n\r\nfunction createReactive(value: any) {\r\n\treturn isObject(value) ? reactive(value) : value;\r\n}\r\n\r\nexport function trackRefValue(ref: RefImpl|ComputedRefImpl) {\r\n\t// TODO \u4F9D\u8D56\u6536\u96C6\r\n\tif (activeEffect) {\r\n\t\ttrackEffect(activeEffect, ref.dep);\r\n\t}\r\n}\r\n\r\nexport function triggerRefValue(ref: RefImpl|ComputedRefImpl) {\r\n\t// TODO \u89E6\u53D1\u66F4\u65B0\r\n\ttriggerEffects(ref.dep);\r\n}\r\n\r\nclass RefImpl {\r\n\tpublic __v_isRef = true;\r\n\tprivate _rawValue: any;\r\n\tpublic dep: Map<ReactiveEffect, number> = new Map();\r\n\tconstructor(value: any) {\r\n\t\tthis._rawValue = value;\r\n\t}\r\n\tget value() {\r\n\t\ttrackRefValue(this);\r\n\t\treturn createReactive(this._rawValue);\r\n\t}\r\n\tset value(newValue: any) {\r\n        // \u65B0\u65E7\u503C\u5BF9\u6BD4\r\n\t\tif (newValue === this._rawValue) return;\r\n\r\n        // \u5982\u679C\u65B0\u8D4B\u503C\u7684\u503C\u662F\u5BF9\u8C61 \u5219\u9700\u8981\u8F6C\u6362\u6210\u54CD\u5E94\u5F0F\u5BF9\u8C61\r\n        if(isObject(newValue)){\r\n            this._rawValue= reactive(newValue);\r\n        }else{\r\n            this._rawValue=newValue;\r\n        }\r\n\t\t// TODO \u89E6\u53D1\u66F4\u65B0\r\n\t\ttriggerRefValue(this);\r\n\t}\r\n}\r\n\r\n\r\nclass ObjectRefImpl {\r\n    public __v_isRef = true;\r\n    constructor(\r\n        private _object: any,\r\n        private _key: string\r\n    ) {}\r\n    get value() {\r\n        return this._object[this._key];\r\n    }\r\n    set value(newValue: any) {\r\n        this._object[this._key] = newValue;\r\n    }\r\n}\r\n\r\n\r\n// toRef   toRefs\r\nexport function toRef(object: any, key: string) {\r\n    return new ObjectRefImpl(object,key);\r\n}\r\n\r\nexport function toRefs(object: any) {\r\n    const result: any =  {};\r\n    for (let key in object) {\r\n        result[key] = toRef(object,key);\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nexport function proxyRef(value:any){\r\n    return new Proxy(value,{\r\n        get(target,key,receiver){\r\n            const r=Reflect.get(target,key,receiver);\r\n            return isRef(r)?r.value:r;\r\n        },\r\n        set(target,key,value,receiver){\r\n            const r=Reflect.get(target,key,receiver);\r\n            if(isRef(r)){\r\n                r.value=value;\r\n                return true;\r\n            }else{\r\n                return Reflect.set(target,key,value,receiver);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nexport function isRef(r: any): r is RefImpl {\r\n    return r ? r.__v_isRef === true : false;\r\n}", "import { isFunction } from '@VUE3/shared';\r\nimport { ReactiveEffect } from './effect.js';\r\nimport { trackRefValue, triggerRefValue } from './ref.js';\r\nimport { trigger } from './activeEffect.js';\r\n\r\nexport function computed<T>(getter: () => T | { get: () => T; set: (v: T) => void }): any {\r\n\treturn creatComputedRef(getter);\r\n}\r\n\r\nfunction creatComputedRef<T>(getter: () => T | { get: () => T; set: (v: T) => void }) {\r\n\tif (isFunction(getter)) {\r\n\t\treturn new ComputedRefImpl(getter as () => T, undefined);\r\n\t} else {\r\n\t\treturn new ComputedRefImpl((getter as any).get, (getter as any).set);\r\n\t}\r\n}\r\n\r\nexport class ComputedRefImpl {\r\n\tpublic __v_isRef = true;\r\n\tprivate _value!: any;\r\n\tprivate _dirty: boolean = true;\r\n    public _effect: ReactiveEffect;\r\n    public dep: Map<ReactiveEffect, number> = new Map();\r\n\tconstructor(\r\n\t\tprivate _getter: () => any,\r\n\t\tprivate _setter: ((v: any) => void) | undefined\r\n\t) {\r\n\t\tthis._effect = new ReactiveEffect(_getter,()=>{\r\n            this._dirty=true;\r\n            triggerRefValue(this);\r\n        });\r\n\t}\r\n\tset value(newValue: any) {\r\n\t\tif (this._setter) {\r\n\t\t\tthis._setter(newValue);\r\n\t\t} else {\r\n\t\t\tconsole.warn('computed is readonly');\r\n\t\t}\r\n\t}\r\n\tget value() {\r\n        trackRefValue(this);\r\n\t\tif (this._dirty) {\r\n            this._dirty = false;\r\n            this._value = this._effect.run();\r\n\t\t}\r\n        return this._value;\r\n\t}\r\n}\r\n", "import { ReactiveEffect } from './effect.js';\r\n\r\nfunction traverse(value: any, deep: boolean, seen = new Set()) {\r\n\tif(value.__v_isRef)\r\n\t\treturn traverse(value.value, deep, seen);\r\n\tif (typeof value !== 'object' || value === null || seen.has(value)) {\r\n\t\treturn value;\r\n\t}\r\n\tseen.add(value);\r\n\tif (!deep) {\r\n\t\tfor (const key in value) {\r\n\t\t\tvalue[key];\r\n\t\t}\r\n\t}\r\n\tfor (const key in value) {\r\n\t\ttraverse(value[key], deep, seen);\r\n\t}\r\n\treturn value;\r\n}\r\n\r\nexport function watch(state: any, cb: Function, options: { immediate?: boolean; deep: boolean }) {\r\n\tlet getter: () => any;\r\n\tif (typeof state === 'function') {\r\n\t\tgetter = state as () => any;\r\n\t} else {\r\n\t\tgetter = () => traverse(state, options?.deep);\r\n\t}\r\n\r\n\tlet effect = new ReactiveEffect(getter, () => {\r\n\t\tconst newValue = effect.run();\r\n\t\tcb(newValue, oldValue);\r\n\t\toldValue = newValue;\r\n\t});\r\n\tlet oldValue: any = effect.run();\r\n\tif (options?.immediate) {\r\n\t\tcb(oldValue, undefined);\r\n\t\toldValue = getter();\r\n\t}\r\n\r\n\tlet unwatch = () => {\r\n\t\teffect.stop();\r\n\t\t// \u6E05\u7406\u4F9D\u8D56\r\n\t}\r\n\treturn unwatch\r\n}\r\n\r\nexport function watchEffect(cb: Function, options: { immediate?: boolean }) {\r\n\r\n\tlet effect = new ReactiveEffect(cb, () => {\r\n\t\tcb();\r\n\t})\r\n\teffect.run();\r\n\r\n\tlet unwatch = () => {\r\n\t\teffect.stop();\r\n\t\t// \u6E05\u7406\u4F9D\u8D56\r\n\t}\r\n\treturn unwatch\r\n}"],
  "mappings": "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",
  "names": ["effect", "activeEffect", "ref", "value", "effect"]
}
